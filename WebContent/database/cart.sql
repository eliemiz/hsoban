-- 장바구니 테이블 생성
CREATE TABLE CART (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	COUNT NUMBER,
	CONSTRAINT CART_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

-- 장바구니 수정(추가)
INSERT INTO CART VALUES 
	(100012, 100123, '그린(유광)', 10);
	
-- 장바구니 수정(갱신)
UPDATE CART SET
	COLOR = '그린(유광)',
	COUNT = 2
	WHERE ACCOUNT_ID = 100012 AND PRODUCCT_ID = 100123;

-- 장바구니 삭제
DELETE FROM CART WHERE
	ACCOUNT_ID = 100012
	AND PRODUCT_ID = 100123
	AND COLOR='그린(유광)';

-- 장바구니 비우기
DELETE FROM CART WHERE
	ACCOUNT_ID = 100012;
	
SELECT * FROM CART;


-- 관심상품 테이블 생성
CREATE TABLE WISH_LIST (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	CONSTRAINT WISH_LIST_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

-- 관심상품 추가
INSERT INTO WISH_LIST VALUES (100012, 100111, '그린(유광)');
	
-- 관심상품 삭제
DELETE FROM WISH_LIST WHERE 
	ACCOUNT_ID = 100012
	AND PRODUCT_ID = 100123
	AND COLOR = '그린(유광)';


-- 주문정보 테이블 추가
CREATE TABLE ORDERED (
	ORDER_ID NUMBER,
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	ORDER_COUNT NUMBER,
	ORDER_DATE DATE,
	POST NUMBER,
	ADDRESS VARCHAR2(300),
	ADDRESS2 VARCHAR2(300),
	ORDER_MESSAGE VARCHAR2(300),
	PAY VARCHAR2(50),
	TOTAL NUMBER,
	CONSTRAINT ORDERED_PK PRIMARY KEY (ORDER_ID)
);

-- 주문정보 추가
INSERT INTO ORDERED VALUES
	(10, 100012, 100123, '그린(유광)', 10, 
	'2021-02-15', 13338, '서울시 강남구 테헤란로', 
	'155-14번지', '파송되지 않게 배송 부탁드립니다.',
	'현금 결제', 242000);

SELECT * FROM ORDERED;







INSERT INTO ORDERED VALUES
	(11, 100012, 100246, '블랙', 3, '2021-02-16', 
	14251, '서울시 강남구 시민로', '4-12번지', '부재시 경비실에 맡겨주세요.'
	, '신용카드', 30000);
INSERT INTO ORDERED VALUES
	(12, 100013, 100123, '그린(유광)', 1, '2021-02-18', 
	12424, '서울시 강서구 우장산로', '34-14번지', '부재시 경비실에 맡겨주세요.'
	, '현금 결제', 123100);
INSERT INTO ORDERED VALUES
	(13, 100013, 100124, '블랙', 2, '2021-02-20', 
	21542, '성남시 수정구 태평동', '44-15번지', '부재시 경비실에 맡겨주세요.'
	, '신용카드', 21000);
INSERT INTO ORDERED VALUES
	(14, 100014, 100255, '분홍', 6, '2021-02-25', 
	15141, '서울시 강남구 테헤란로', '23-14번지', '파송되지 않게 배송 부탁드립니다.'
	, '현금 결제', 5000);

SELECT * FROM cart ORDER BY product_id, color;

-- 장바구니 테이블
CREATE TABLE CART (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	COUNT NUMBER,
	CONSTRAINT CART_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

UPDATE cart SET count = 3
	WHERE account_id = 100200 AND product_id = 100022 AND color = '블랙';
