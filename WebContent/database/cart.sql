-- 장바구니 테이블 생성
CREATE TABLE CART (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	COUNT NUMBER,
	CONSTRAINT CART_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

-- 장바구니 수정(추가)
INSERT INTO CART VALUES 
	(100012, 100123, '그린(유광)', 10);
	
-- 장바구니 수정(갱신)
UPDATE CART SET
	COLOR = '그린(유광)',
	COUNT = 2
	WHERE ACCOUNT_ID = 100012 AND PRODUCCT_ID = 100123;

-- 장바구니 삭제
DELETE FROM CART WHERE
	ACCOUNT_ID = 100012
	AND PRODUCT_ID = 100123
	AND COLOR='그린(유광)';

-- 장바구니 비우기
DELETE FROM CART WHERE
	ACCOUNT_ID = 100012;
	
SELECT * FROM CART;


-- 관심상품 테이블 생성
CREATE TABLE WISH_LIST (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	CONSTRAINT WISH_LIST_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

-- 관심상품 추가
INSERT INTO WISH_LIST VALUES (100012, 100111, '그린(유광)');
	
-- 관심상품 삭제
DELETE FROM WISH_LIST WHERE 
	ACCOUNT_ID = 100012
	AND PRODUCT_ID = 100123
	AND COLOR = '그린(유광)';


-- 주문정보 테이블 추가
CREATE TABLE ORDERED (
	ORDER_ID NUMBER,
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	ORDER_COUNT NUMBER,
	ORDER_DATE DATE,
	POST NUMBER,
	ADDRESS VARCHAR2(300),
	ADDRESS2 VARCHAR2(300),
	ORDER_MESSAGE VARCHAR2(300),
	PAY VARCHAR2(50),
	TOTAL NUMBER,
	CONSTRAINT ORDERED_PK PRIMARY KEY (ORDER_ID)
);

-- 주문정보 추가
INSERT INTO ORDERED VALUES
	(10, 100012, 100123, '그린(유광)', 10, 
	'2021-02-15', 13338, '서울시 강남구 테헤란로', 
	'155-14번지', '파송되지 않게 배송 부탁드립니다.',
	'현금 결제', 242000);

SELECT * FROM ORDERED;







INSERT INTO ORDERED VALUES
	(11, 100012, 100246, '블랙', 3, '2021-02-16', 
	14251, '서울시 강남구 시민로', '4-12번지', '부재시 경비실에 맡겨주세요.'
	, '신용카드', 30000);
INSERT INTO ORDERED VALUES
	(12, 100013, 100123, '그린(유광)', 1, '2021-02-18', 
	12424, '서울시 강서구 우장산로', '34-14번지', '부재시 경비실에 맡겨주세요.'
	, '현금 결제', 123100);
INSERT INTO ORDERED VALUES
	(13, 100013, 100124, '블랙', 2, '2021-02-20', 
	21542, '성남시 수정구 태평동', '44-15번지', '부재시 경비실에 맡겨주세요.'
	, '신용카드', 21000);
INSERT INTO ORDERED VALUES
	(14, 100014, 100255, '분홍', 6, '2021-02-25', 
	15141, '서울시 강남구 테헤란로', '23-14번지', '파송되지 않게 배송 부탁드립니다.'
	, '현금 결제', 5000);

SELECT * FROM cart ORDER BY product_id, color;

-- 장바구니 테이블
CREATE TABLE CART (
	ACCOUNT_ID NUMBER,
	PRODUCT_ID NUMBER,
	COLOR VARCHAR2(50),
	COUNT NUMBER,
	CONSTRAINT CART_PK PRIMARY KEY (ACCOUNT_ID, PRODUCT_ID, COLOR)
);

UPDATE cart SET count = 3
	WHERE account_id = 100200 AND product_id = 100022 AND color = '블랙';
SELECT * FROM cart;

SELECT * FROM product;
INSERT INTO product VALUES  (101013, 'red', '국그릇', 'bowl', '적당히 큼', 1000000, 'json으로 설명 달 예정', '그림.그림');

SELECT * FROM review;

SELECT * FROM cart;

-----------------------------------------------------------

CREATE TABLE "HSOBAN"."CART" (
	"ACCOUNT_ID" NUMBER, 
	"PRODUCT_ID" NUMBER, 
	"COLOR" VARCHAR2(50), 
	"COUNT" NUMBER, 
 	CONSTRAINT "CART_PK" PRIMARY KEY ("ACCOUNT_ID", "PRODUCT_ID", "COLOR")
);

INSERT INTO HSOBAN.CART VALUES(100012, 100111, '그린(유광)', 2);
INSERT INTO HSOBAN.CART VALUES(100012, 100112, '블랙', 3);
INSERT INTO HSOBAN.CART VALUES(100013, 100111, '블랙', 1);
INSERT INTO HSOBAN.CART VALUES(100013, 100113, '그린(유광)', 5);
INSERT INTO HSOBAN.CART VALUES(100200, 100022, '블랙', 10);
INSERT INTO HSOBAN.CART VALUES(100012, 100101, '블랙(유광)', 10);
INSERT INTO HSOBAN.CART VALUES(100012, 123123, '블랙', 2);

SELECT * FROM HSOBAN.CART;

SELECT * FROM HSOBAN.CART
	WHERE ACCOUNT_ID=100012 AND PRODUCT_ID=100111 AND COLOR='그린(유광)';

-----------------------------------------------------------

INSERT INTO HSOBAN.CART VALUES (100012, 100101, '블랙(유광)', 2);

UPDATE HSOBAN.CART SET
	COUNT = 5
	WHERE ACCOUNT_ID=100012 AND PRODUCT_ID=100111 AND COLOR='그린(유광)';
	
DELETE FROM HSOBAN.CART
	WHERE ACCOUNT_ID=100012 AND PRODUCT_ID=100101 AND COLOR='블랙(유광)';
	
SELECT * FROM WISH_LIST;

CREATE TABLE "HSOBAN"."WISH_LIST" (
	"ACCOUNT_ID" NUMBER, 
	"PRODUCT_ID" NUMBER, 
	"COLOR" VARCHAR2(50), 
	CONSTRAINT "WISH_LIST_PK" PRIMARY KEY ("ACCOUNT_ID", "PRODUCT_ID", "COLOR")
);
	 
INSERT INTO HSOBAN.WISH_LIST VALUES(100012, 100303, '분홍');
INSERT INTO HSOBAN.WISH_LIST VALUES(100013, 100111, '베이지');
INSERT INTO HSOBAN.WISH_LIST VALUES(100013, 100134, '블루');
INSERT INTO HSOBAN.WISH_LIST VALUES(100014, 100154, '블랙');
INSERT INTO HSOBAN.WISH_LIST VALUES(123456, 123456, '시뻘건색');

SELECT * FROM HSOBAN.WISH_LIST;

SELECT * FROM HSOBAN.WISH_LIST
	WHERE ACCOUNT_ID=100013 AND PRODUCT_ID=100111 AND COLOR='베이지';
 


INSERT INTO HSOBAN.WISH_LIST VALUES(123456, 123456, '시뻘건색');

DELETE FROM HSOBAN.WISH_LIST
	WHERE ACCOUNT_ID=123456 AND PRODUCT_ID=123456 AND COLOR='시뻘건색';

SELECT * FROM HSOBAN.WISH_LIST;
	
SELECT * FROM cart ORDER BY account_id;

INSERT INTO cart VALUES (100001, 100001, '블랙', 2);
INSERT INTO cart VALUES (100001, 100001, '그린(유광)', 1);
INSERT INTO cart VALUES (100001, 100002, '블랙', 1);
INSERT INTO cart VALUES (100001, 100003, '블랙', 1);

SELECT * FROM product ORDER BY product_id, color;
SELECT * FROM account;
UPDATE product SET thumbnail = '/img/shop/Bowl1_00.jpg';
100001	100002	블랙
100001	100002	그린
100001	100003	베이지;
SELECT * FROM WISH_LIST;
SELECT * FROM product ORDER BY product_id, color;
SELECT * FROM stock;


insert into stock values (100000,	'그린'  ,10) ;
insert into stock values (100000,	'블랙'  ,10) ;
insert into stock values (100001,	'그린'  ,10) ;
insert into stock values (100002,	'그린'  ,10) ;
insert into stock values (100002,	'블랙'  ,10) ;
insert into stock values (100002,	'블루'  ,10) ;
insert into stock values (100003,	'베이지',10) ;
INSERT INTO stock VALUES SELECT product_id, color, 10 FROM product;
INSERT INTO stock VALUES WHERE (SELECT product_id, color, 10 FROM product WHERE  product_);


INSERT INTO product VALUES (100000, '그린', '국그릇', 'BOWL', 'SIZE수정 필요', 32000, 'DESCRIPTION 수정 필요', '/shop/Bowl1_00.jpg');
INSERT INTO product VALUES (product_id_seq.nextval, '그린', '국그릇', 'BOWL', 'SIZE수정 필요', 32000, 'DESCRIPTION 수정 필요', '/shop/Bowl1_00.jpg');
INSERT INTO product VALUES (product_id_seq.nextval, '블랙', '두부볼', 'BOWL', 'SIZE수정 필요', 32000, 'DESCRIPTION 수정 필요', '/shop/Bowl1_00.jpg');

SELECT * FROM cart;
SELECT * FROM WISH_LIST wl;